# ü§ñ CogniWeb Agent

[![CI Pipeline](https://github.com/Ilyat9/CogniWeb_Agent/actions/workflows/ci.yml/badge.svg)](https://github.com/Ilyat9/CogniWeb_Agent/actions/workflows/ci.yml)
[![Python 3.10+](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE.md)

Production-ready –≤–µ–±-–∞–≥–µ–Ω—Ç —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π **ReAct** (Reasoning + Acting), —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –≤–µ–±-—Å–∞–π—Ç–∞–º–∏ —á–µ—Ä–µ–∑ LLM-—É–ø—Ä–∞–≤–ª—è–µ–º—É—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é –±—Ä–∞—É–∑–µ—Ä–∞.

<p align="center">
  <img src="assets/demo-teaser.gif" alt="CogniWeb Agent Quick Demo" width="800">
</p>

## üìã –û –ø—Ä–æ–µ–∫—Ç–µ

–ê–≥–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Playwright** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–æ–º –∏ **LLM** (—á–µ—Ä–µ–∑ OpenRouter API) –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤—ã—Ö –±–æ—Ç–æ–≤, –∞–≥–µ–Ω—Ç —Å–ø–æ—Å–æ–±–µ–Ω –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å DOM —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π –∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –±–µ–∑ –∂—ë—Å—Ç–∫–æ–π –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º.

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –∫–∞–∫ **–º–æ–¥—É–ª—å–Ω—ã–π –º–æ–Ω–æ–ª–∏—Ç** —Å —á—ë—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —Å–ª–æ—ë–≤: –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ Dependency Injection, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ –≥–∏–±–∫–æ—Å—Ç—å.

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **ReAct Pattern**: –¶–∏–∫–ª Observe ‚Üí Think ‚Üí Act —Å reasoning –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ
- **11 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤**: navigate, click_element, type_text, upload_file, scroll_page, take_screenshot, wait, go_back, query_dom, store_context, done
- **Stealth Mode**: playwright-stealth –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–∞–∑–æ–≤—ã—Ö –∞–Ω—Ç–∏–±–æ—Ç-—Å–∏—Å—Ç–µ–º
- **Smart Loop Detection**: –î–µ—Ç–µ–∫—Ü–∏—è –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–π —Å –∞–Ω–∞–ª–∏–∑–æ–º (action + target + success)
- **Error Recovery**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–Ω–∏–º–∫–∏ (screenshot + HTML dump) –ø—Ä–∏ —Å–±–æ—è—Ö
- **Rate Limiting**: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ LLM API (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 15 —Å–µ–∫ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏)
- **Context Management**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —à–∞–≥–∞–º–∏
- **Graceful Shutdown**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ –ø—Ä–∏ SIGINT/SIGTERM

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Python 3.10+**: Async/await, Type hints, Pydantic v2
- **Playwright 1.40+**: –ë—Ä–∞—É–∑–µ—Ä–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å stealth —Ä–µ–∂–∏–º–æ–º
- **OpenRouter API**: LLM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (—Å–æ–≤–º–µ—Å—Ç–∏–º —Å OpenAI SDK)
- **Pydantic Settings**: Type-safe –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- **Docker**: –ú–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–∞—è —Å–±–æ—Ä–∫–∞ –Ω–∞ –±–∞–∑–µ `mcr.microsoft.com/playwright/python`
- **Makefile**: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á (—É—Å—Ç–∞–Ω–æ–≤–∫–∞, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ª–∏–Ω—Ç–∏–Ω–≥, Docker)
- **GitHub Actions**: CI/CD –ø–∞–π–ø–ª–∞–π–Ω (—Ç–µ—Å—Ç—ã –Ω–∞ Python 3.10-3.12, –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
- **Pytest**: Unit-—Ç–µ—Å—Ç—ã —Å –º–æ–∫–∞–º–∏ –∏ –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞
- **Ruff + Black + isort**: –õ–∏–Ω—Ç–∏–Ω–≥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- **Bandit + Safety**: –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## ‚öñÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –≤ —É—Å–ª–æ–≤–∏—è—Ö –∂–µ—Å—Ç–∫–∏—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö (3 –¥–Ω—è) –∏ –±—é–¥–∂–µ—Ç–Ω—ã—Ö (free tier API) –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π. –ö–∞–∂–¥–æ–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî —ç—Ç–æ –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–π –∫–æ–º–ø—Ä–æ–º–∏—Å—Å –º–µ–∂–¥—É –∏–¥–µ–∞–ª—å–Ω–æ—Å—Ç—å—é –∏ pragmatic engineering.

### üéØ –§–∏–ª–æ—Å–æ—Ñ–∏—è –ø—Ä–æ–µ–∫—Ç–∞

> **"Working MVP —Å–µ–≥–æ–¥–Ω—è > –ò–¥–µ–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —á–µ—Ä–µ–∑ –º–µ—Å—è—Ü"**

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ:
1. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** (Resilience) ‚Äî –∞–≥–µ–Ω—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–∞–¥–∞—Ç—å –ø—Ä–∏ API –≥–ª—é–∫–∞—Ö –∏–ª–∏ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
2. **–≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤** (Token Efficiency) ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤ —Ä–∞–º–∫–∞—Ö –∂–µ—Å—Ç–∫–∏—Ö –ª–∏–º–∏—Ç–æ–≤ (16k –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ Solar Pro –∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã—Ö free-tier –º–æ–¥–µ–ª–µ–π).
3. **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å** (Maintainability) ‚Äî –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–Ω—è—Ç–µ–Ω —Å–ª–µ–¥—É—é—â–µ–º—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –±–µ–∑ –º–æ–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

### üí∞ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ (API Efficiency)

–ü—Ä–æ–µ–∫—Ç –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º–∏ API-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏, –≥–¥–µ –∫–∞–∂–¥—ã–π —Ç–æ–∫–µ–Ω –Ω–∞ —Å—á–µ—Ç—É:

#### **Token Economy**
```python
# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (orchestrator.py)
window_size = 10  # –ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞

# –†–∞—Å—á–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤:
# - System prompt: ~2k —Ç–æ–∫–µ–Ω–æ–≤
# - 10 observations √ó ~1.5k = 15k —Ç–æ–∫–µ–Ω–æ–≤
# - –ò—Ç–æ–≥–æ: ~17k (—É–∫–ª–∞–¥—ã–≤–∞–µ–º—Å—è –≤ 16k Solar Pro –ø—Ä–∏ —Å—Ä–µ–¥–Ω–µ–º —Å—Ü–µ–Ω–∞—Ä–∏–∏)
```

**–ü–æ—á–µ–º—É –ù–ï –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Å—á–µ—Ç —á–µ—Ä–µ–∑ tiktoken:**
- –î–æ–±–∞–≤–∏–ª –±—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∏ +50ms –Ω–∞ –∫–∞–∂–¥—ã–π —à–∞–≥
- Fixed window —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ 99% —Å–ª—É—á–∞–µ–≤
- **Fail-fast:** –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–∏—Ç—Å—è ‚Üí LLM –≤–µ—Ä–Ω–µ—Ç –æ—à–∏–±–∫—É ‚Üí –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç—Å—è retry

#### **Smart DOM Filtering**
```python
# DOM processing (dom.py)
elements[:50]  # –¢–æ–ø 50 –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

# –≠–∫–æ–Ω–æ–º–∏—è:
# - 50 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ = ~1000 —Ç–æ–∫–µ–Ω–æ–≤
# - –í—Å–µ 200 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ = ~20k —Ç–æ–∫–µ–Ω–æ–≤ (instant overflow)
# - Fallback: scroll_page ‚Üí –Ω–æ–≤—ã–µ 50 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
```

**–ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ 50:**
- 99% –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî –≤ –ø–µ—Ä–≤—ã—Ö 50 —ç–ª–µ–º–µ–Ω—Ç–∞—Ö viewport (header, navigation, main content)
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ Y-–ø–æ–∑–∏—Ü–∏–∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤–∏–¥–∏–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ê–Ω–∞–ª–æ–≥–∏—è: pagination –≤ REST API (GitHub = 100 items/page)

#### **Strict Rate Limiting**
```python
# –ó–∞—â–∏—Ç–∞ –æ—Ç 429 –æ—à–∏–±–æ–∫ (orchestrator.py)
RATE_LIMIT_SECONDS = 15  # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É LLM –∑–∞–ø—Ä–æ—Å–∞–º–∏

# –°—Ç—Ä–∞—Ç–µ–≥–∏—è:
# - OpenRouter free tier: ~10-20 req/min (soft limit)
# - 15s delay = 4 req/min (–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞)
# - Trade latency for stability
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–ø–æ—á–µ–º—É –ù–ï aggressive requests):**
- –ë–µ–∑ delay ‚Üí 429 error ‚Üí exponential backoff ‚Üí –∞–≥–µ–Ω—Ç —Å—Ç–æ–∏—Ç 1-2 –º–∏–Ω—É—Ç—ã
- –° delay 15s ‚Üí –∞–≥–µ–Ω—Ç –º–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ (–ª—É—á—à–∏–π UX –¥–ª—è MVP)

### üõ°Ô∏è Defensive Programming Patterns

–ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–º–µ–µ—Ç fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –¥–ª—è production reliability:

#### **Browser Strict Mode Handling**
```python
# browser.py - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
try:
    await page.click(selector)
except StrictModeViolation:
    # Fallback: –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–≤—ã–π matching —ç–ª–µ–º–µ–Ω—Ç
    await page.locator(selector).first.click()
    logger.warning(f"Non-unique selector: {selector}")
```

**–ü–æ—á–µ–º—É `.first` fallback ‚Äî —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
- hh.ru –∏ –º–Ω–æ–≥–∏–µ —Å–∞–π—Ç—ã –¥—É–±–ª–∏—Ä—É—é—Ç —ç–ª–µ–º–µ–Ω—Ç—ã (desktop + mobile –≤–µ—Ä—Å–∏–∏ –≤ DOM)
- Playwright –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç `.first` –¥–ª—è —Å–ø–∏—Å–∫–æ–≤
- Graceful degradation –≤–º–µ—Å—Ç–æ crash

#### **LLM JSON Parsing Recovery**
```python
# llm.py - –æ–±—Ä–∞–±–æ—Ç–∫–∞ truncated responses
if "No valid JSON found" in error:
    # –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π trim –∏—Å—Ç–æ—Ä–∏–∏
    messages = self.get_trimmed_history(window_size=2)
    # Retry —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
```

#### **Captcha Detection –±–µ–∑ Deadlock**
```python
# orchestrator.py - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–ø—á–∏
while await browser.detect_captcha():
    print("‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è –∫–∞–ø—á–∏...")
    await asyncio.sleep(3)  # –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤ CI/Docker
```

### üöÄ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –±—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –ø–ª–∞—Ç–Ω—ã–µ —Ç–∏—Ä—ã –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ–∏—á–∏:
```python
# settings.py - "–∫—Ä—é—á–∫–∏" –¥–ª—è –±—É–¥—É—â–∏—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
class Settings(BaseSettings):
    # –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å:
    conversation_window_size: int = Field(default=10)  # –£–≤–µ–ª–∏—á–∏—Ç—å –¥–ª—è paid tier
    dom_max_elements: int = Field(default=50)          # –ë–æ–ª—å—à–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
    enable_evaluator: bool = Field(default=False)      # Self-critique loop
    rate_limit_seconds: int = Field(default=15)        # –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–µ–µ –¥–ª—è paid API
```

**Roadmap v2.0:**
- [ ] Evaluator Pattern (self-critique loop) ‚Äî +2√ó –∫–∞—á–µ—Å—Ç–≤–æ, +2√ó —Ç–æ–∫–µ–Ω—ã
- [ ] –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Å—á–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ tiktoken ‚Äî —Ç–æ—á–Ω–æ—Å—Ç—å –≤–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ—Ç—ã
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 2captcha/anti-captcha ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∫–∞–ø—á
- [ ] Multi-page agents ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á

### üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥ (–æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–π)

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç      | –¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ        | –ò–¥–µ–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ  | –ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–∞–∑–∞             |
|----------------|------------------------|--------------------|----------------------------|
| Token counting | Fixed window (10 msgs) | Dynamic tiktoken   | KISS –ø—Ä–∏–Ω—Ü–∏–ø –¥–ª—è MVP       |
| DOM elements   | Hard limit 50          | Relevance scoring  | Token budget constraints   |
| Rate limiting  | Fixed 15s delay        | Adaptive per model | Free tier unpredictability |
| Error recovery | .first fallback        | Unique selectors   | Real-world DOM complexity  |
| Evaluator      | Not implemented        | Self-critique loop | +3 days dev, +2√ó tokens    |

**–§–∏–ª–æ—Å–æ—Ñ–∏—è:** –≠—Ç–∏ "–∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã" ‚Äî –Ω–µ –±–∞–≥–∏, –∞ **feature** –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ resource-constrained environments.



## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/Ilyat9/CogniWeb_Agent
cd CogniWeb_Agent

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –±—Ä–∞—É–∑–µ—Ä—ã
make install-dev

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env
make setup-env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env: –¥–æ–±–∞–≤–∏—Ç—å OPENAI_API_KEY

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≥–µ–Ω—Ç–∞
make run
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

```bash
# –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑
make docker-build

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
make docker-run

# –ò–ª–∏ —á–µ—Ä–µ–∑ docker –Ω–∞–ø—Ä—è–º—É—é
docker build -t cogniweb-agent .
docker run --rm -v $(pwd)/.env:/app/.env:ro cogniweb-agent
```

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è**: [QUICK_START.md](QUICK_START.md)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ main.py                      # Entry point —Å signal handling
‚îú‚îÄ‚îÄ Dockerfile                   # –ú–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–∞—è —Å–±–æ—Ä–∫–∞ (non-root user)
‚îú‚îÄ‚îÄ Makefile                     # –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥
‚îú‚îÄ‚îÄ pyproject.toml               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (black, ruff, pytest)
‚îú‚îÄ‚îÄ requirements.txt             # Production –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ requirements-dev.txt         # Development –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (pytest, ruff, etc)
‚îú‚îÄ‚îÄ .env.example                 # –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings.py          # Pydantic Settings —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py            # AgentAction, TaskResult, ObservationState
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ exceptions.py        # –ò–µ—Ä–∞—Ä—Ö–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ infrastructure/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ browser.py           # BrowserService (Playwright)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ llm.py               # LLMService (OpenRouter API)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ agent/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orchestrator.py      # ReAct —Ü–∏–∫–ª (observe/think/act)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îú‚îÄ‚îÄ dom.py               # DOM tree shaking –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
‚îÇ       ‚îî‚îÄ‚îÄ __init__.py
‚îÇ
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ test_agent_core.py       # Unit-—Ç–µ—Å—Ç—ã (Pydantic, orchestrator, LLM)
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îú‚îÄ‚îÄ ci.yml               # CI –ø–∞–π–ø–ª–∞–π–Ω (—Ç–µ—Å—Ç—ã, –ª–∏–Ω—Ç–∏–Ω–≥, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
‚îÇ       ‚îî‚îÄ‚îÄ release.yml          # –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–µ–ª–∏–∑–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ browser_data/                # Persistent browser session (—Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ)
‚îú‚îÄ‚îÄ screenshots/                 # Error snapshots (—Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ)
‚îú‚îÄ‚îÄ agent.log                    # –õ–æ–≥ —Ñ–∞–π–ª (—Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ)
‚îÇ
‚îú‚îÄ‚îÄ QUICK_START.md               # –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
‚îú‚îÄ‚îÄ ARCHITECTURE.md              # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ CLAUDE.md                    # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è Claude Code
‚îî‚îÄ‚îÄ LICENSE.md                   # MIT License
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `.env`:

```env
# API (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
OPENAI_API_KEY=your_openrouter_api_key
API_BASE_URL=https://openrouter.ai/api/v1
MODEL_NAME=upstage/solar-pro

# –ë—Ä–∞—É–∑–µ—Ä
HEADLESS=false                    # true –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
SLOW_MO=50                        # –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –¥–µ–π—Å—Ç–≤–∏—è–º–∏ (–º—Å)
ENABLE_STEALTH=true               # playwright-stealth

# –ê–≥–µ–Ω—Ç
MAX_STEPS=50                      # –ª–∏–º–∏—Ç —à–∞–≥–æ–≤
TEMPERATURE=0.1                   # –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å LLM
MAX_TOKENS=1000                   # —Ä–∞–∑–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ LLM

# DOM –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
TEXT_BLOCK_MAX_LENGTH=500         # –æ–±—Ä–µ–∑–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤
DOM_MAX_TOKENS_ESTIMATE=10000     # –ª–∏–º–∏—Ç —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è DOM

# Loop detection
LOOP_DETECTION_WINDOW=3           # –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
MAX_IDENTICAL_STATES=5            # —Ç–µ—Ä–ø–∏–º–æ—Å—Ç—å –∫ –ø–æ–≤—Ç–æ—Ä–∞–º
```

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ [.env.example](.env.example)

## üí° –ü—Ä–∏–º–µ—Ä—ã –∑–∞–¥–∞—á

**–ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫**:
```
–ó–∞–¥–∞—á–∞: –ù–∞–π–¥–∏ —Å—Ç–∞—Ç—å—é –ø—Ä–æ Python –Ω–∞ –≤–∏–∫–∏–ø–µ–¥–∏–∏ –∏ —Å–∫–∞–∂–∏ –≥–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è —è–∑—ã–∫–∞
URL: https://wikipedia.org
```

**–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º**:
```
–ó–∞–¥–∞—á–∞: –ù–∞–π–¥–∏ —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –∑–∞–ø–æ–ª–Ω–∏ –ø–æ–ª—è (–∏–º—è: Test, email: test@example.com)
```

**–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**:
```
–ó–∞–¥–∞—á–∞: –ù–∞–π–¥–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Å–µ —Ü–µ–Ω—ã —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Å–æ—Ö—Ä–∞–Ω–∏ –∏—Ö
```

**–ú–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏**:
```
–ó–∞–¥–∞—á–∞: –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ hacker news, –æ—Ç–∫—Ä–æ–π –ø–µ—Ä–≤—É—é —Å—Ç–∞—Ç—å—é, –ø—Ä–æ—á–∏—Ç–∞–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –ø–µ—Ä–≤—ã–π –∞–±–∑–∞—Ü
URL: https://news.ycombinator.com
```

### üì∫ –ü–æ–ª–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã (hh.ru)
![Full Workflow Demo](assets/full-demo.gif)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –ø–æ–∫—Ä—ã—Ç Unit-—Ç–µ—Å—Ç–∞–º–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `pytest` –∏ `pytest-asyncio`. –í—Å–µ –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (LLM, Browser) –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ –º–æ–∫–∏.

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
make test

# –¢–µ—Å—Ç—ã —Å coverage –æ—Ç—á—ë—Ç–æ–º
make test-coverage

# –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã loop detection
pytest tests/test_agent_core.py::TestSmartLoopDetection -v
```

### CI/CD –ø–∞–π–ø–ª–∞–π–Ω

–ü—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ `main` –∏–ª–∏ `develop` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è:

1. **–õ–∏–Ω—Ç–∏–Ω–≥**: Ruff, Black, isort
2. **–¢–µ—Å—Ç—ã**: Pytest –Ω–∞ Python 3.10, 3.11, 3.12
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: Bandit (–∫–æ–¥), Safety (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
4. **Docker**: –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ (—Ç–æ–ª—å–∫–æ –Ω–∞ main/develop)

## üì¶ Docker

### –ú–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–∞—è —Å–±–æ—Ä–∫–∞

Dockerfile –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤–∞ stage:
- **builder**: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∫–∞–∫ root
- **runtime**: –ó–∞–ø—É—Å–∫ –æ—Ç –Ω–µ-–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `agentuser`

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
make docker-build

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
make docker-run

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ Docker
make docker-test

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –æ–±–æ–ª–æ—á–∫–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
make docker-shell

# –û—á–∏—Å—Ç–∫–∞
make docker-clean
```

## üéØ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º **–º–æ–¥—É–ª—å–Ω–æ–≥–æ –º–æ–Ω–æ–ª–∏—Ç–∞**:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      main.py (Entry Point)          ‚îÇ
‚îÇ  Signal Handling, Orchestration     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     Agent Layer (Orchestration)     ‚îÇ
‚îÇ   orchestrator.py - ReAct Loop      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ                ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇInfrastructure‚îÇ  ‚îÇ   Core     ‚îÇ
‚îÇ  browser.py  ‚îÇ  ‚îÇ models.py  ‚îÇ
‚îÇ   llm.py     ‚îÇ  ‚îÇexceptions ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     Config Layer (Settings)      ‚îÇ
‚îÇ   settings.py - Pydantic Config  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ**: [ARCHITECTURE.md](ARCHITECTURE.md)

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ
- LLM –º–æ–∂–µ—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å CAPTCHA (—Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ iframe (–Ω—É–∂–µ–Ω workaround)
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ SPA –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å timing

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- Stealth mode –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ–±—Ö–æ–¥ –≤—Å–µ—Ö –∞–Ω—Ç–∏–±–æ—Ç-—Å–∏—Å—Ç–µ–º
- –ù–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ–±—Ö–æ–¥–∞ –∑–∞—â–∏—Ç—ã —Å–∞–π—Ç–æ–≤ —Å –∞–∫—Ç–∏–≤–Ω–æ–π –∑–∞—â–∏—Ç–æ–π
- Rate limiting –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö API

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ö–∞–∂–¥—ã–π —à–∞–≥ = 1 LLM –∑–∞–ø—Ä–æ—Å (15-30 —Å–µ–∫ –ø—Ä–∏ rate limiting)
- DOM processing –¥–æ–±–∞–≤–ª—è–µ—Ç overhead –Ω–∞ –±–æ–ª—å—à–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–∫—Ä–∞–ø–µ—Ä–æ–≤ —Å —Ö–∞—Ä–¥–∫–æ–¥–æ–º

## ü§ù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å dev –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
make install-dev

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ dev —Ä–µ–∂–∏–º–µ (—Å DEBUG_MODE=true)
make dev

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥
make lint

# –ê–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make format

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
make type-check

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
make security-check
```

### –≠–º—É–ª—è—Ü–∏—è CI –ª–æ–∫–∞–ª—å–Ω–æ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ CI –ø—Ä–æ–≤–µ—Ä–∫–∏
make ci
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ‚Äî —Å–º. [LICENSE.md](LICENSE.md)

---

**Python**: 3.10+  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: Playwright 1.40+, OpenAI SDK 1.0+, Pydantic 2.0+  
**–ü–æ–¥–¥–µ—Ä–∂–∫–∞**: Issues –∏ Pull Requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**:
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](QUICK_START.md)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](ARCHITECTURE.md)
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è Claude Code](CLAUDE.md)